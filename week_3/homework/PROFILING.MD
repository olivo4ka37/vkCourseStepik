## Отчёт по профилированию

1. Скриншоты показателей по cpu и mem до профилирования:

![img.png](img.png)

По данному скриншоту видно, что много cpu time уходит на regexp MatchString и regexp compile а также на json.
Тут мы делаем оптимизацию двух пунктов: Regexp и json.
1. Для regexp мы используем прекомпиляцию
2. Для json easyjson:

Сделали прекомпиляцию, получили следующие результаты:
![img_1.png](img_1.png)

Теперь fast search, буквально касается regexp compile и уделяет ему 0.01s, уменьшили общее время работы на 1.61s.
Следующий шаг оптимизации, подключение библиотеки easyJSON и генерация кода.
Подключили easyjson, сделали тесты:

![img_3.png](img_3.png)

Уменьшили время работы на 0.08s.

Следующий горячий участок в котором FastSearch и SlowSearch это вызов функции growslice и выделение новой памяти:

![img_4.png](img_4.png)

Заранее преаллоцируем размер в 2048 элементов для массива пользователей, в массиве browsers для 16-и элементов также, посмотрим на результаты:

До заранее преаллоцированного пространства:

![img_5.png](img_5.png)

После:

![img_6.png](img_6.png)

Скорость работы программы увеличилась на 15%.

